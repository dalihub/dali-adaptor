IF( (NOT UBUNTU_PROFILE) )
  SET(APPLICATION_NORMAL_TARGET dali2-adaptor-application-normal )
  SET(APPLICATION_WIDGET_TARGET dali2-adaptor-application-widget )
  SET(APPLICATION_WATCH_TARGET dali2-adaptor-application-watch )
  SET(APPLICATION_COMPONENT_BASED_TARGET dali2-adaptor-application-component-based )

  MESSAGE(STATUS ${ROOT_SRC_DIR}/dali/internal/application-model )
  SET( appmodel_src_dir ${ROOT_SRC_DIR}/dali/internal/application-model )

  INCLUDE( ${appmodel_src_dir}/file.list )

  SET( APPLICATION_NORMAL_SOURCES ${app_normal_src_files} )
  SET( APPLICATION_WIDGET_SOURCES ${app_widget_src_files} )
  SET( APPLICATION_WATCH_SOURCES ${app_watch_src_files} )
  SET( APPLICATION_COMPONENT_BASED_SOURCES ${app_component_based_src_files} )

  ADD_LIBRARY( ${APPLICATION_NORMAL_TARGET} SHARED ${APPLICATION_NORMAL_SOURCES} )
  ADD_LIBRARY( ${APPLICATION_WIDGET_TARGET} SHARED ${APPLICATION_WIDGET_SOURCES} )
  ADD_LIBRARY( ${APPLICATION_WATCH_TARGET} SHARED ${APPLICATION_WATCH_SOURCES} )
  ADD_LIBRARY( ${APPLICATION_COMPONENT_BASED_TARGET} SHARED ${APPLICATION_COMPONENT_BASED_SOURCES} )

  OPTION(ENABLE_PKG_CONFIGURE "Use pkgconfig" ON)

  IF (ENABLE_PKG_CONFIGURE)
    FIND_PACKAGE(PkgConfig REQUIRED)
    PKG_CHECK_MODULES(APPCOREUICPP app-core-ui-cpp)
    PKG_CHECK_MODULES(ELDBUS eldbus)

    SET(CORE_PKG_CFG_FILE dali2-adaptor-application-normal.pc)
    CONFIGURE_FILE(${CMAKE_CURRENT_LIST_DIR}/${CORE_PKG_CFG_FILE}.in ${CORE_PKG_CFG_FILE} @ONLY)
  ENDIF()

  TARGET_LINK_LIBRARIES( ${APPLICATION_NORMAL_TARGET} PUBLIC
    ${DLOG_LDFLAGS}
    ${DALICORE_LDFLAGS}
    ${APPCOREUICPP_LDFLAGS}
    ${ELDBUS_LDFLAGS}
    dali2-adaptor
  )

  TARGET_COMPILE_OPTIONS( ${APPLICATION_NORMAL_TARGET} PUBLIC
    ${DLOG_CFLAGS}
    ${DALICORE_CFLAGS}
    ${APPCOREUICPP_CFLAGS}
    ${ELDBUS_CFLAGS}
    -I../../../
    -Wall
  )

  TARGET_LINK_LIBRARIES( ${APPLICATION_WIDGET_TARGET} PUBLIC
    ${DLOG_LDFLAGS}
    ${DALICORE_LDFLAGS}
    ${ELDBUS_LDFLAGS}
    dali2-adaptor
  )

  TARGET_COMPILE_OPTIONS( ${APPLICATION_WIDGET_TARGET} PUBLIC
    ${DLOG_CFLAGS}
    ${DALICORE_CFLAGS}
    ${ELDBUS_CFLAGS}
    -I../../../
    -Wall
  )

  TARGET_LINK_LIBRARIES( ${APPLICATION_WATCH_TARGET} PUBLIC
    ${DLOG_LDFLAGS}
    ${DALICORE_LDFLAGS}
    ${ELDBUS_LDFLAGS}
    dali2-adaptor
  )

  TARGET_COMPILE_OPTIONS( ${APPLICATION_WATCH_TARGET} PUBLIC
    ${DLOG_CFLAGS}
    ${DALICORE_CFLAGS}
    ${ELDBUS_CFLAGS}
    -I../../../
    -Wall
  )

  TARGET_LINK_LIBRARIES( ${APPLICATION_COMPONENT_BASED_TARGET} PUBLIC
    ${DLOG_LDFLAGS}
    ${DALICORE_LDFLAGS}
    ${ELDBUS_LDFLAGS}
    dali2-adaptor
  )

  TARGET_COMPILE_OPTIONS( ${APPLICATION_COMPONENT_BASED_TARGET} PUBLIC
    ${DLOG_CFLAGS}
    ${DALICORE_CFLAGS}
    ${ELDBUS_CFLAGS}
    -I../../../
    -Wall
  )


  INSTALL( TARGETS ${APPLICATION_NORMAL_TARGET} DESTINATION ${LIB_DIR} )
  INSTALL( TARGETS ${APPLICATION_WIDGET_TARGET} DESTINATION ${LIB_DIR} )
  INSTALL( TARGETS ${APPLICATION_WATCH_TARGET} DESTINATION ${LIB_DIR} )
  INSTALL( TARGETS ${APPLICATION_COMPONENT_BASED_TARGET} DESTINATION ${LIB_DIR} )
ENDIF()

